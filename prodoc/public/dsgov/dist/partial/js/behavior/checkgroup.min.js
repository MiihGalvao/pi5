!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("dsgov",[],t):"object"==typeof exports?exports.dsgov=t():e.dsgov=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>n});class n{constructor(e){this.parent=e,this.children=this._setChildren(e.dataset.parent)}get checkedLabel(){return this.parent.dataset.checkedLabel||this.parent.nextElementSibling.innerText}get uncheckedLabel(){return this.parent.dataset.uncheckedLabel||this.parent.nextElementSibling.innerText}setBehavior(){this._setParentBehavior(),this._setChildBehavior()}_setChildren(e){return document.querySelectorAll(`[data-child="${e}"]`)}_setParentBehavior(){this.parent.addEventListener("click",this._handleParentClick.bind(this)),this.parent.addEventListener("change",this._handleParentChange.bind(this))}_handleParentClick(){this.parent.hasAttribute("data-parent-sync")||this._setIndeterminateStateOnClick(),this._setParentCheckboxLabel()}_setIndeterminateStateOnClick(){this.parent.hasAttribute("indeterminate")&&(this.parent.removeAttribute("indeterminate"),this.parent.checked=!0)}_handleParentChange(){this.parent.hasAttribute("data-parent-sync")?this.parent.removeAttribute("data-parent-sync"):(this._changeChildState(),this._setParentCheckboxLabel())}_changeChildState(){this.children.forEach(e=>{(e.checked!==this.parent.checked||e.hasAttribute("indeterminate"))&&(e.removeAttribute("indeterminate"),e.checked=this.parent.checked,e.dispatchEvent(new Event("change")))})}_setChildBehavior(){this.children.forEach(e=>{e.addEventListener("click",this._handleChildClick.bind(this)),e.addEventListener("change",this._handleChildChange.bind(this))})}_handleChildClick(e){e.currentTarget.setAttribute("data-child-sync","")}_handleChildChange(e){e.currentTarget.hasAttribute("data-child-sync")&&(this._setIndeterminateStateOnChildChange(),this.parent.setAttribute("data-parent-sync",""),this.parent.dispatchEvent(new Event("click")),this.parent.dispatchEvent(new Event("change")),e.currentTarget.removeAttribute("data-child-sync"))}_setIndeterminateStateOnChildChange(){this._isAllChildrenChecked()?(this.parent.removeAttribute("indeterminate"),this.parent.checked=!0):this._isAllChildrenUnchecked()?(this.parent.removeAttribute("indeterminate"),this.parent.checked=!1):(this.parent.setAttribute("indeterminate",""),this.parent.checked=!0)}_isAllChildrenChecked(){let e=!0;return this.children.forEach(t=>{t.checked&&!t.hasAttribute("indeterminate")||(e=!1)}),e}_isAllChildrenUnchecked(){let e=!0;return this.children.forEach(t=>{t.checked&&(e=!1)}),e}_setParentCheckboxLabel(){this.parent.checked&&!this.parent.hasAttribute("indeterminate")?(this.parent.nextElementSibling.innerHTML=this.uncheckedLabel,this.parent.setAttribute("aria-label",this.uncheckedLabel)):(this.parent.nextElementSibling.innerHTML=this.checkedLabel,this.parent.setAttribute("aria-label",this.checkedLabel))}}return t})()}));